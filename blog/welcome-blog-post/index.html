<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="kube-green RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="kube-green Atom Feed"><title data-react-helmet="true">Intro to kube-green | kube-green</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://kube-green.github.io/img/logo.png"><meta data-react-helmet="true" name="twitter:image" content="https://kube-green.github.io/img/logo.png"><meta data-react-helmet="true" property="og:url" content="https://kube-green.github.io/blog/welcome-blog-post/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Intro to kube-green | kube-green"><meta data-react-helmet="true" name="description" content="Welcome to kube-green blog!"><meta data-react-helmet="true" property="og:description" content="Welcome to kube-green blog!"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2022-01-05T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/davidebianchi"><meta data-react-helmet="true" property="article:tag" content="kube-green,introduction"><link data-react-helmet="true" rel="icon" href="/img/logo.png"><link data-react-helmet="true" rel="canonical" href="https://kube-green.github.io/blog/welcome-blog-post/"><link data-react-helmet="true" rel="alternate" href="https://kube-green.github.io/blog/welcome-blog-post/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://kube-green.github.io/blog/welcome-blog-post/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.2656d2f8.css">
<link rel="preload" href="/assets/js/runtime~main.e86cbb99.js" as="script">
<link rel="preload" href="/assets/js/main.bf7f2b8e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><div class="announcementBar_axC9" role="banner"><div class="announcementBarPlaceholder_xYHE"></div><div class="announcementBarContent_6uhP">If you like kube-green, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/kube-green/kube-green">GitHub</a> ‚≠ê</div><button type="button" class="clean-btn close announcementBarClose_A3A1" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="kube-green Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo-dark.png" alt="kube-green Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">kube-green</b></a><a class="navbar__item navbar__link" href="/docs/getting-started/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kube-green/kube-green" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">üåú</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">üåû</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_q+wC thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_9G5K margin-bottom--md">Recent posts</div><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a aria-current="page" class="sidebarItemLink_zyXk sidebarItemLinkActive_wcJs" href="/blog/welcome-blog-post/">Intro to kube-green</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_d4p0" itemprop="headline">Intro to kube-green</h1><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-01-05T00:00:00.000Z" itemprop="datePublished">January 5, 2022</time> ¬∑ <!-- -->3 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><a href="https://github.com/davidebianchi" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_9q7L" src="https://github.com/davidebianchi.png" alt="Davide Bianchi"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/davidebianchi" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Davide Bianchi</span></a></div><small class="avatar__subtitle" itemprop="description">Creator of kube-green</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Welcome to <em>kube-green</em> blog!</p><p>In this blog, we&#x27;ll introduce the new features of <em>kube-green</em>, and give you some other information about <em>kube-green</em>.</p><p>In this first tutorial, I will try to explain how it was born and why it is useful for reducing waste of resources.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="environmental-impact">Environmental impact<a class="hash-link" href="#environmental-impact" title="Direct link to heading">‚Äã</a></h2><p>Everything we do online has an impact on the real world environment.<br>
<!-- -->From the emails in our inboxes to photos and videos on the cloud, from online games to digital currency, all this digital activity run on physical servers that constantly use energy.</p><p>Just some examples:</p><ul><li>minecraft all time emissions are about 600 million Kg of CO2, equivalent to drive at about 2,1 billion of km (<a href="https://www.saveonenergy.com/uk/environmental-impact-of-video-games/" target="_blank" rel="noopener noreferrer">reference</a>)</li><li>bitcoin produces between 22 and 22.9 million metric tons of carbon dioxide emissions a year, or between the levels produced by Jordan and Sri Lanka (<a href="https://www.reuters.com/technology/how-big-is-bitcoins-carbon-footprint-2021-05-13/" target="_blank" rel="noopener noreferrer">reference</a>)</li><li><a href="https://thanks-in-advance.com/" target="_blank" rel="noopener noreferrer">here</a> it is possible to see how much emissions our emails generate</li></ul><p>The Kubernetes clusters are not an exception. Also if they run in a cloud provider far from us they produces CO2, also if not used.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="the-idea-of-kube-green">The idea of kube-green<a class="hash-link" href="#the-idea-of-kube-green" title="Direct link to heading">‚Äã</a></h2><p>In a cluster, non production namespaces are usually used only during business hours.<br>
<!-- -->The business hours are around 40 hours per week, respect the total number of weekly hours which are 168.<br>
<!-- -->Also, in Kubernetes the resources could be allocated (both CPU and memory, setting the request of a container) also if not used. This means most of the time the pods in these namespaces are unnecessarily consuming resources.</p><p>The basic idea of <em>kube-green</em> is to stop all pods in those namespaces.  </p><p><img alt="kube-green idea" src="/assets/images/idea-5750e02ceb905f364ee1c479b275f2f4.png"></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="how-it-is-possible">How it is possible?<a class="hash-link" href="#how-it-is-possible" title="Direct link to heading">‚Äã</a></h3><p><em>kube-green</em> is a Kubernetes controller, which define a Custom Resource Definition called <em>SleepInfo</em>. <em>SleepInfo</em> CRD define when stop and restart the pods in a namespace.</p><p>So, for example in development namespaces, it is possible to stop all the pods in non business hours: wake up every morning from monday to friday and stop every night from monday to friday.</p><p>An example of <em>SleepInfo</em> CRD to make it is:</p><div class="codeBlockContainer_J+bg language-yaml theme-code-block"><div class="codeBlockContent_csEI yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kube</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">green.com/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SleepInfo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> working</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">hours</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">weekdays</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1-5&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">sleepAt</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;20:00&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">wakeUpAt</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;08:00&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">timeZone</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Europe/Rome&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">suspendCronJobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="what-resources-can-you-suspend">What resources can you suspend?<a class="hash-link" href="#what-resources-can-you-suspend" title="Direct link to heading">‚Äã</a></h2><p>At the time of this post, with <em>kube-green</em> at <a href="https://github.com/kube-green/kube-green/tree/v0.2.0" target="_blank" rel="noopener noreferrer">v0.2.0</a>, it is possible to sleep only <strong>Deployment</strong>.
Other resources will be added in the future.<br>
<!-- -->If you need some particular resources, write it in <a href="https://github.com/kube-green/kube-green/issues/77" target="_blank" rel="noopener noreferrer">this issue</a> to set it in roadmap!</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">‚Äã</a></h2><p>Do you want to reduce the CO2 emissions and costs of your Kubernetes cluster?</p><p><a href="/docs/getting-started/">Read our documentation</a> to install <strong>kube-green</strong> in your cluster!</p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_xD8n"><div class="col"><b>Tags:</b><ul class="tags_NBRY padding--none margin-left--sm"><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/kube-green/">kube-green</a></li><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/introduction/">introduction</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/kube-green/kube-green.github.io/edit/main/blog/blog/2022-01-05-first-blog-post.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article></main><div class="col col--2"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#environmental-impact" class="table-of-contents__link toc-highlight">Environmental impact</a></li><li><a href="#the-idea-of-kube-green" class="table-of-contents__link toc-highlight">The idea of kube-green</a><ul><li><a href="#how-it-is-possible" class="table-of-contents__link toc-highlight">How it is possible?</a></li></ul></li><li><a href="#what-resources-can-you-suspend" class="table-of-contents__link toc-highlight">What resources can you suspend?</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div></div>
<script src="/assets/js/runtime~main.e86cbb99.js"></script>
<script src="/assets/js/main.bf7f2b8e.js"></script>
</body>
</html>